<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>åœ£è¯å¿«ä¹ï¼æ¸©é¦¨èŠ‚æ—¥ç¥ç¦</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
  <style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        background: linear-gradient(135deg, #0a2e1a 0%, #0c5525 30%, #0a3d1e 70%, #062010 100%);
        color: #fff;
        min-height: 100vh;
        overflow-x: hidden;
        position: relative;
        font-family: 'Noto Sans SC', sans-serif;
    }

    /* é›ªèŠ±æ•ˆæœ */
    .snowflake {
        position: absolute;
        background-color: rgba(255, 255, 255, 0.9);
        border-radius: 50%;
        z-index: 1;
        pointer-events: none;
    }

    .snowflake:nth-child(3n) {
        background-color: rgba(255, 240, 200, 0.8);
    }

    .snowflake:nth-child(3n+1) {
        background-color: rgba(255, 255, 255, 0.7);
    }

    /* ä¸»å®¹å™¨ */
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        position: relative;
        z-index: 2;
    }

    /* å¤´éƒ¨åŒºåŸŸ */
    header {
        text-align: center;
        padding: 40px 0 30px;
        position: relative;
    }

    .header-title {
        font-size: 4rem;
        text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.5), 0 0 20px rgba(255, 215, 0, 0.5);
        color: #ffd700;
        margin-bottom: 15px;
        letter-spacing: 3px;
        font-family: 'Dancing Script', cursive;
        position: relative;
        display: inline-block;
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 1s ease forwards;
    }

    .header-title::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 200px;
        height: 3px;
        background: linear-gradient(to right, transparent, #ffd700, transparent);
    }

    .header-subtitle {
        font-size: 1.8rem;
        color: #e8f5e9;
        margin-bottom: 30px;
        font-weight: 300;
        letter-spacing: 1px;
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 1s ease 0.3s forwards;
    }

    .christmas-icons {
        display: flex;
        justify-content: center;
        gap: 30px;
        margin-top: 20px;
        flex-wrap: wrap;
    }

    .christmas-icon {
        font-size: 3rem;
        color: #ff6b6b;
        animation: float 3s ease-in-out infinite;
        animation-delay: calc(var(--i) * 0.5s);
        text-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        opacity: 0;
        animation: fadeInUp 1s ease calc(var(--i) * 0.2s + 0.5s) forwards, float 3s ease-in-out infinite calc(var(--i) * 0.5s + 1s);
    }

    .christmas-icon:nth-child(2) {
        color: #4ecdc4;
    }

    .christmas-icon:nth-child(3) {
        color: #ffd166;
    }

    .christmas-icon:nth-child(4) {
        color: #06d6a0;
    }

    /* ä¸»è¦å†…å®¹åŒºåŸŸ */
    .main-content {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-around;
        align-items: stretch;
        gap: 40px;
        margin-bottom: 60px;
    }

    .greeting-card {
        flex: 1;
        min-width: 300px;
        background: rgba(255, 255, 255, 0.08);
        backdrop-filter: blur(15px);
        border-radius: 25px;
        padding: 40px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 215, 0, 0.2);
        position: relative;
        overflow: hidden;
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 1s ease 0.8s forwards;
    }

    .greeting-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 5px;
        background: linear-gradient(to right, #ff6b6b, #ffd166, #06d6a0, #4ecdc4);
    }

    .greeting-title {
        color: #ffd700;
        font-size: 2.5rem;
        margin-bottom: 25px;
        text-align: center;
        font-family: 'Dancing Script', cursive;
        text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }

    .greeting-text-container {
        min-height: 300px;
        position: relative;
    }

    .blessing-line {
        font-size: 1.3rem;
        line-height: 1.9;
        color: #f0f9ff;
        margin-bottom: 20px;
        font-weight: 300;
        position: relative;
        padding-left: 25px;
        opacity: 0;
        transform: translateX(-20px);
        transition: all 0.8s ease;
    }

    .blessing-line.visible {
        opacity: 1;
        transform: translateX(0);
    }

    .blessing-line::before {
        content: 'âœ¨';
        position: absolute;
        left: 0;
        top: 2px;
        font-size: 1rem;
    }

    .greeting-signature {
        text-align: right;
        font-style: italic;
        font-size: 1.5rem;
        color: #ffd700;
        margin-top: 30px;
        font-family: 'Dancing Script', cursive;
        position: relative;
        display: inline-block;
        padding-right: 20px;
        opacity: 0;
        animation: fadeIn 1s ease 5s forwards;
    }

    .greeting-signature::after {
        content: '';
        position: absolute;
        right: 0;
        top: 50%;
        width: 60px;
        height: 2px;
        background: linear-gradient(to right, transparent, #ffd700);
    }

    .decorations {
        flex: 1;
        min-width: 300px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 30px;
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 1s ease 1.1s forwards;
    }

    .santa-container {
        position: relative;
        width: 100%;
        max-width: 400px;
        min-height: 300px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 20px;
        overflow: hidden;
    }

    .santa-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 20px;
        filter: drop-shadow(0 15px 25px rgba(0, 0, 0, 0.5));
        animation: float 5s ease-in-out infinite;
        border: 5px solid rgba(255, 215, 0, 0.3);
        display: block;
    }

    .image-fallback {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: #ffd700;
        font-size: 1.5rem;
        text-align: center;
        padding: 20px;
        display: none;
    }

    .image-fallback i {
        font-size: 6rem;
        margin-bottom: 20px;
        animation: bounce 2s infinite alternate;
    }

    .ornaments {
        display: flex;
        justify-content: center;
        gap: 20px;
        flex-wrap: wrap;
    }

    .ornament {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.8rem;
        background: rgba(255, 255, 255, 0.1);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        animation: spin 10s linear infinite;
        animation-delay: calc(var(--i) * -1s);
    }

    /* åº•éƒ¨åŒºåŸŸ */
    footer {
        text-align: center;
        padding: 30px;
        color: #c1f7c5;
        font-size: 1.1rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        margin-top: 30px;
        background: rgba(0, 0, 0, 0.1);
        border-radius: 20px;
        position: relative;
        overflow: hidden;
        opacity: 0;
        animation: fadeIn 1s ease 1.4s forwards;
    }

    footer::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: linear-gradient(to right, #ff6b6b, #ffd166, #06d6a0, #4ecdc4);
    }

    .music-tip {
        margin-top: 15px;
        font-size: 0.9rem;
        color: #ffd700;
    }

    .wish {
        margin-top: 10px;
        font-size: 0.9rem;
    }

    /* å¼¹çª—æ ·å¼ */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.85);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.6s ease;
    }

    .modal-overlay.active {
        opacity: 1;
        visibility: visible;
    }

    .modal-content {
        background: linear-gradient(145deg, rgba(26, 71, 42, 0.95), rgba(12, 85, 37, 0.95));
        width: 90%;
        max-width: 650px;
        border-radius: 30px;
        padding: 50px;
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5),
                    0 0 0 1px rgba(255, 215, 0, 0.2),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1);
        border: 2px solid rgba(255, 215, 0, 0.4);
        position: relative;
        transform: translateY(100px) scale(0.9);
        opacity: 0;
        transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        overflow: hidden;
    }

    .modal-overlay.active .modal-content {
        transform: translateY(0) scale(1);
        opacity: 1;
    }

    .modal-content::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 8px;
        background: linear-gradient(to right, #ff6b6b, #ffd166, #06d6a0, #4ecdc4);
    }

    .modal-header {
        text-align: center;
        margin-bottom: 30px;
    }

    .modal-title {
        font-size: 3rem;
        color: #ffd700;
        margin-bottom: 15px;
        font-family: 'Dancing Script', cursive;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }

    .modal-subtitle {
        font-size: 1.5rem;
        color: #c1f7c5;
        font-weight: 300;
        letter-spacing: 1px;
    }

    .modal-body {
        font-size: 1.3rem;
        line-height: 1.9;
        color: #f0f9ff;
        margin-bottom: 35px;
        text-align: center;
    }

    .highlight-quote {
        margin: 25px 0;
        font-size: 1.8rem;
        color: #ffd700;
        font-weight: bold;
        font-style: italic;
        text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        padding: 20px;
        background: rgba(255, 215, 0, 0.1);
        border-radius: 15px;
        border-left: 5px solid #ffd700;
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 1s ease 0.5s forwards;
    }

    .modal-blessings {
        min-height: 150px;
        margin-top: 30px;
    }

    .modal-blessing-line {
        font-size: 1.2rem;
        line-height: 1.8;
        color: #f0f9ff;
        margin-bottom: 15px;
        padding-left: 20px;
        position: relative;
        opacity: 0;
        transform: translateX(-20px);
        transition: all 0.8s ease;
    }

    .modal-blessing-line.visible {
        opacity: 1;
        transform: translateX(0);
    }

    .modal-blessing-line::before {
        content: 'â„ï¸';
        position: absolute;
        left: 0;
        top: 2px;
        font-size: 0.9rem;
    }

    .modal-close {
        position: absolute;
        top: 25px;
        right: 25px;
        background: rgba(255, 255, 255, 0.1);
        border: none;
        color: #ffd700;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        font-size: 2rem;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        z-index: 10;
    }

    .modal-close:hover {
        transform: scale(1.1) rotate(90deg);
        background: rgba(255, 215, 0, 0.2);
    }

    .modal-footer {
        text-align: center;
    }

    .modal-btn {
        background: linear-gradient(to right, #ff9a00, #ffd700, #ff9a00);
        background-size: 200% auto;
        color: #0a3d1e;
        border: none;
        padding: 18px 45px;
        font-size: 1.4rem;
        font-weight: bold;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.4s;
        box-shadow: 0 10px 20px rgba(255, 215, 0, 0.3);
        letter-spacing: 1px;
        position: relative;
        overflow: hidden;
        opacity: 0;
        animation: fadeIn 1s ease 3s forwards;
    }

    .modal-btn:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 25px rgba(255, 215, 0, 0.5);
        background-position: right center;
    }

    .modal-btn:active {
        transform: translateY(-2px);
    }

    .modal-btn i {
        margin-right: 10px;
    }

    /* éŸ³ä¹æ§åˆ¶ */
    .music-control {
        position: fixed;
        top: 30px;
        right: 30px;
        background: linear-gradient(135deg, rgba(255, 107, 107, 0.9), rgba(255, 209, 102, 0.9));
        border-radius: 50%;
        width: 70px;
        height: 70px;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        z-index: 100;
        backdrop-filter: blur(5px);
        border: 3px solid rgba(255, 255, 255, 0.3);
        color: #0a3d1e;
        font-size: 2rem;
        transition: all 0.4s;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        animation: pulse 2s infinite, fadeIn 1s ease 0.2s forwards;
        opacity: 0;
    }

    .music-control:hover {
        transform: scale(1.15) rotate(15deg);
        box-shadow: 0 15px 25px rgba(0, 0, 0, 0.3);
    }

    /* éŸ³ä¹æ’­æ”¾å™¨ */
    .music-player {
        position: fixed;
        top: 30px;
        right: 120px;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 50px;
        padding: 15px 25px;
        display: flex;
        align-items: center;
        gap: 15px;
        z-index: 99;
        border: 1px solid rgba(255, 215, 0, 0.3);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        transform: translateX(20px);
        opacity: 0;
        transition: all 0.5s ease;
    }

    .music-player.active {
        transform: translateX(0);
        opacity: 1;
    }

    .music-info {
        color: #ffd700;
        font-size: 1rem;
        white-space: nowrap;
        min-width: 150px;
    }

    .volume-slider {
        width: 100px;
        -webkit-appearance: none;
        height: 6px;
        border-radius: 5px;
        background: rgba(255, 255, 255, 0.2);
        outline: none;
    }

    .volume-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: #ffd700;
        cursor: pointer;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    }

    /* åŠ¨ç”»æ•ˆæœ */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }

    @keyframes bounce {
        0% { transform: translateY(0); }
        100% { transform: translateY(-20px); }
    }

    @keyframes float {
        0% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(5deg); }
        100% { transform: translateY(0) rotate(0deg); }
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    @keyframes pulse {
        0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.7); }
        70% { box-shadow: 0 0 0 15px rgba(255, 215, 0, 0); }
        100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }
    }

    @keyframes fall {
        0% {
            transform: translateY(-100px) rotate(0deg);
            opacity: 1;
        }
        100% {
            transform: translateY(100vh) rotate(360deg);
            opacity: 0;
        }
    }

    @keyframes typing {
        from { width: 0; }
        to { width: 100%; }
    }

    @keyframes blink {
        0%, 100% { border-color: transparent; }
        50% { border-color: #ffd700; }
    }

    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 992px) {
        .header-title {
            font-size: 3.2rem;
        }

        .modal-content {
            padding: 40px 30px;
        }

        .modal-title {
            font-size: 2.5rem;
        }

        .music-player {
            top: 110px;
            right: 30px;
            width: calc(100% - 60px);
            max-width: 300px;
            justify-content: center;
        }
    }

    @media (max-width: 768px) {
        .header-title {
            font-size: 2.8rem;
        }

        .header-subtitle {
            font-size: 1.5rem;
        }

        .modal-content {
            padding: 35px 25px;
            width: 95%;
        }

        .modal-title {
            font-size: 2.2rem;
        }

        .music-control {
            width: 60px;
            height: 60px;
            font-size: 1.6rem;
            top: 20px;
            right: 20px;
        }

        .music-player {
            top: 100px;
            right: 20px;
            width: calc(100% - 40px);
        }
    }

    @media (max-width: 480px) {
        .header-title {
            font-size: 2.2rem;
        }

        .greeting-title {
            font-size: 2rem;
        }

        .modal-content {
            padding: 30px 20px;
        }

        .modal-title {
            font-size: 1.8rem;
        }

        .modal-subtitle {
            font-size: 1.2rem;
        }

        .modal-body {
            font-size: 1.1rem;
        }

        .highlight-quote {
            font-size: 1.4rem;
            padding: 15px;
        }

        .christmas-icons {
            gap: 15px;
        }

        .christmas-icon {
            font-size: 2.2rem;
        }

        .greeting-card {
            padding: 25px;
        }

        .blessing-line {
            font-size: 1.1rem;
        }
    }
  </style>
</head>
<body>
<!-- éŸ³ä¹æ§åˆ¶ -->
<div class="music-control" id="musicControl">
  <i class="fas fa-music"></i>
</div>

<!-- éŸ³ä¹æ’­æ”¾å™¨ -->
<div class="music-player" id="musicPlayer">
  <div class="music-info" id="musicInfo">ç‚¹å‡»æ’­æ”¾æŒ‰é’®å¼€å§‹éŸ³ä¹</div>
  <input type="range" min="0" max="100" value="70" class="volume-slider" id="volumeSlider">
</div>

<!-- ä¸»å®¹å™¨ -->
<div class="container">
  <!-- å¤´éƒ¨ -->
  <header>
    <h1 class="header-title">åœ£è¯å¿«ä¹ï¼</h1>
    <p class="header-subtitle">æ„¿å¹³å®‰ã€å–œä¹ä¸æ¸©æš–ä¼´éšä½ åº¦è¿‡è¿™ä¸ªç¾å¥½èŠ‚æ—¥</p>

    <div class="christmas-icons">
      <div class="christmas-icon" style="--i: 0"><i class="fas fa-tree"></i></div>
      <div class="christmas-icon" style="--i: 1"><i class="fas fa-sleigh"></i></div>
      <div class="christmas-icon" style="--i: 2"><i class="fas fa-gift"></i></div>
      <div class="christmas-icon" style="--i: 3"><i class="fas fa-star"></i></div>
    </div>
  </header>

  <!-- ä¸»è¦å†…å®¹ -->
  <main class="main-content">
    <div class="greeting-card">
      <h2 class="greeting-title">åœ£è¯ç¥ç¦</h2>
      <div class="greeting-text-container" id="greetingText">
        <!-- ç¥ç¦è¯­ä¼šé€šè¿‡JSé€å¥æ˜¾ç¤º -->
      </div>
      <p class="greeting-signature">â€”â€” ä½ çš„æŒšå‹ä»¬</p>
    </div>

    <div class="decorations">
      <div class="santa-container">
        <!-- æœ¬åœ°å›¾ç‰‡ï¼Œå¦‚æœä¸å­˜åœ¨ä¼šæ˜¾ç¤ºå¤‡é€‰å†…å®¹ -->
          <a href="https://ibb.co/pvYNRH7L"><img src="https://i.ibb.co/JRD8yY1s/santa.jpg" alt="santa" border="0"></a>
        <div class="image-fallback" id="imageFallback">
          <i class="fas fa-sleigh fa-5x"></i>
          <p>ğŸ… åœ£è¯è€äººæ­£åœ¨èµ¶æ¥é€ç¥ç¦çš„è·¯ä¸Šï¼ ğŸ„</p>
        </div>
      </div>

      <div class="ornaments">
        <div class="ornament" style="--i: 1">ğŸ„</div>
        <div class="ornament" style="--i: 2">ğŸ</div>
        <div class="ornament" style="--i: 3">ğŸ””</div>
        <div class="ornament" style="--i: 4">â­</div>
        <div class="ornament" style="--i: 5">ğŸ¦Œ</div>
        <div class="ornament" style="--i: 6">â„ï¸</div>
      </div>
    </div>
  </main>

  <!-- åº•éƒ¨ -->
  <footer>
    <p>Â© 2023 åœ£è¯ç¥ç¦é¡µé¢ | è®¾è®¡åˆ¶ä½œï¼šåœ£è¯ç²¾çµ | ç¥ä½ åœ£è¯å¿«ä¹ï¼</p>
    <p class="music-tip">ç‚¹å‡»å³ä¸Šè§’çš„éŸ³ä¹æŒ‰é’®æ’­æ”¾/æš‚åœåœ£è¯éŸ³ä¹ï¼Œæ‹–åŠ¨æ»‘å—è°ƒèŠ‚éŸ³é‡</p>
    <p class="wish">æ„¿è¿™ä»½ç¥ç¦èƒ½æ¸©æš–ä½ çš„æ•´ä¸ªå†¬å­£ â¤ï¸</p>
  </footer>
</div>

<!-- ç¥ç¦å¼¹çª— -->
<div class="modal-overlay" id="christmasModal">
  <div class="modal-content">
    <button class="modal-close" id="closeModal">&times;</button>
    <div class="modal-header">
      <h2 class="modal-title">ç‰¹åˆ«çš„åœ£è¯ç¥ç¦</h2>
      <p class="modal-subtitle">é€ç»™ä½ æœ€çœŸæŒšçš„èŠ‚æ—¥é—®å€™</p>
    </div>
    <div class="modal-body">
      <div class="highlight-quote">
        "æ„¿ä½ çš„åœ£è¯èŠ‚å……æ»¡å¥‡è¿¹ä¸æ¬¢ä¹ï¼Œæ„¿æ–°çš„ä¸€å¹´å¸¦ç»™ä½ æ— å°½çš„ç¥ç¦ä¸æˆåŠŸï¼"
      </div>
      <div class="modal-blessings" id="modalBlessings">
        <!-- å¼¹çª—ç¥ç¦è¯­ä¹Ÿä¼šé€å¥æ˜¾ç¤º -->
      </div>
    </div>
    <div class="modal-footer">
      <button class="modal-btn" id="shareBlessing">
        <i class="fas fa-share-alt"></i>åˆ†äº«ç¥ç¦
      </button>
    </div>
  </div>
</div>

<!-- èƒŒæ™¯éŸ³ä¹ - ä¼˜å…ˆä½¿ç”¨æœ¬åœ°æ–‡ä»¶ -->
<audio id="christmasMusic" loop preload="auto">
  <!-- ä¼˜å…ˆåŠ è½½æœ¬åœ°éŸ³ä¹æ–‡ä»¶ -->
  <source src="./audio/christmas-music.mp3" type="audio/mpeg">
  <!-- å¤‡é€‰æ–¹æ¡ˆï¼šå¦‚æœæœ¬åœ°éŸ³é¢‘åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨åœ¨çº¿éŸ³é¢‘ -->
  <source src="https://assets.mixkit.co/music/preview/mixkit-christmas-is-coming-1109.mp3" type="audio/mpeg">
</audio>

<script>
  // ç¥ç¦è¯­æ•°æ®
  const blessings = [
    "äº²çˆ±çš„æœ‹å‹ï¼Œåœ¨è¿™ä¸ªå……æ»¡å¥‡è¿¹ä¸ç¥ç¦çš„åœ£è¯èŠ‚ï¼Œ",
    "æ„¿ä½ çš„å¿ƒä¸­å……æ»¡å¹³å®‰ã€å–œä¹ä¸æ¸©æš–ã€‚",
    "æ„¿åœ£è¯çš„é’Ÿå£°ä¸ºä½ å¸¦æ¥ç¥¥å’Œï¼Œ",
    "æ„¿åœ£è¯çš„çƒ›å…‰ç…§äº®ä½ çš„å‰ç¨‹ã€‚",
    "é›ªèŠ±é£˜è½ï¼Œé“ƒå„¿è½»å“ï¼Œ",
    "åœ£è¯è€äººæ­£é©¾ç€é©¯é¹¿ä¸ºä½ é€æ¥ç¥ç¦ã€‚",
    "æ„¿è¿™ä¸ªç‰¹åˆ«çš„æ—¥å­é‡Œï¼Œ",
    "ä½ çš„å®¶åº­å……æ»¡æ¬¢å£°ç¬‘è¯­ï¼Œ",
    "ä½ çš„å¿ƒä¸­å……æ»¡æ„Ÿæ©ä¸å–œæ‚¦ã€‚",
    "æ„¿åœ£è¯çš„çƒ›å…‰å¸¦ç»™ä½ å…‰æ˜ä¸æ¸©æš–ï¼Œ",
    "æ„¿åœ£è¯çš„æ­Œå£°å¸¦ç»™ä½ æ¬¢ä¹ä¸å¸Œæœ›ã€‚",
    "åœ¨è¿™ç¾å¥½çš„æ—¶åˆ»ï¼Œ",
    "è®©æˆ‘ä»¬ä¸€åŒæ„Ÿæ©è¿‡å»ï¼Œçæƒœç°åœ¨ï¼ŒæœŸå¾…æœªæ¥ã€‚",
    "åœ£è¯å¿«ä¹ï¼",
    "æ„¿æ–°çš„ä¸€å¹´å¸¦ç»™ä½ å¥åº·ã€å¹¸ç¦ä¸æˆåŠŸï¼"
  ];

  const modalBlessings = [
    "åœ£è¯çš„é’Ÿå£°å·²ç»æ•²å“ï¼Œ",
    "æ„¿è¿™å£°éŸ³å¸¦ç»™ä½ å¹³å®‰ä¸å–œä¹ã€‚",
    "åœ£è¯çš„çƒ›å…‰å·²ç»ç‚¹äº®ï¼Œ",
    "æ„¿è¿™å…‰èŠ’ç…§äº®ä½ å‰è¡Œçš„é“è·¯ã€‚",
    "åœ£è¯çš„æ­Œå£°å·²ç»å”±èµ·ï¼Œ",
    "æ„¿è¿™æ—‹å¾‹æ¸©æš–ä½ çš„å¿ƒçµã€‚",
    "åœ¨è¿™ä¸ªå……æ»¡çˆ±ä¸å¸Œæœ›çš„æ—¥å­é‡Œï¼Œ",
    "æ„¿ä½ ä¸å®¶äººå…±äº«æ¸©é¦¨æ—¶å…‰ï¼Œ",
    "æ„¿ä½ ä¸æœ‹å‹åˆ†äº«å¿«ä¹æ—¶åˆ»ã€‚",
    "æ„¿åœ£è¯çš„å¥‡è¿¹å‘ç”Ÿåœ¨ä½ èº«ä¸Šï¼Œ",
    "æ„¿æ–°å¹´çš„ç¥ç¦ä¼´éšä½ å·¦å³ã€‚"
  ];

  // åˆ›å»ºä¼˜åŒ–é›ªèŠ±æ•ˆæœ
  function createSnowflakes() {
      const snowflakeContainer = document.body;
      const snowflakeCount = 150;

      // å…ˆæ·»åŠ é›ªèŠ±åŠ¨ç”»å…³é”®å¸§
      const style = document.createElement('style');
      style.innerHTML = `
          @keyframes fall {
              0% {
                  transform: translateY(-100px) rotate(0deg);
                  opacity: 0.8;
              }
              100% {
                  transform: translateY(100vh) rotate(360deg);
                  opacity: 0;
              }
          }
      `;
      document.head.appendChild(style);

      for (let i = 0; i < snowflakeCount; i++) {
          const snowflake = document.createElement('div');
          snowflake.classList.add('snowflake');

          // éšæœºå¤§å°
          const size = Math.random() * 12 + 3;
          snowflake.style.width = `${size}px`;
          snowflake.style.height = `${size}px`;

          // éšæœºä½ç½®
          snowflake.style.left = `${Math.random() * 100}vw`;

          // éšæœºé€æ˜åº¦
          snowflake.style.opacity = Math.random() * 0.7 + 0.3;

          // éšæœºåŠ¨ç”»æŒç»­æ—¶é—´
          const duration = Math.random() * 15 + 10;
          const delay = Math.random() * 5;
          snowflake.style.animation = `fall ${duration}s linear ${delay}s infinite`;

          // éšæœºæ¨¡ç³Šæ•ˆæœ
          snowflake.style.filter = `blur(${Math.random() * 2}px)`;

          // æ·»åŠ åˆ°é¡µé¢
          snowflakeContainer.appendChild(snowflake);
      }
  }

  // å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶çš„å¤‡é€‰æ–¹æ¡ˆ
  function showImageFallback() {
      const santaImage = document.getElementById('santaImage');
      const imageFallback = document.getElementById('imageFallback');

      santaImage.style.display = 'none';
      imageFallback.style.display = 'flex';

      // å°è¯•ä½¿ç”¨åœ¨çº¿å›¾ç‰‡ä½œä¸ºå¤‡é€‰
      setTimeout(() => {
          santaImage.src = 'https://images.unsplash.com/photo-1574473327422-3b1c1a7f0e3a?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80';
          santaImage.onload = function() {
              santaImage.style.display = 'block';
              imageFallback.style.display = 'none';
          };
      }, 2000);
  }

  // é€å¥æ˜¾ç¤ºç¥ç¦è¯­
  function showBlessingsSequentially(blessingsArray, containerId, delay = 800) {
      const container = document.getElementById(containerId);
      container.innerHTML = '';

      blessingsArray.forEach((blessing, index) => {
          const line = document.createElement('div');
          line.className = containerId === 'greetingText' ? 'blessing-line' : 'modal-blessing-line';
          line.textContent = blessing;

          // è®¾ç½®æ¯è¡Œçš„æ˜¾ç¤ºå»¶è¿Ÿ
          setTimeout(() => {
              container.appendChild(line);
              // è§¦å‘é‡æ’ä»¥åº”ç”¨åˆå§‹çŠ¶æ€
              void line.offsetWidth;
              // æ·»åŠ å¯è§ç±»ä»¥è§¦å‘åŠ¨ç”»
              line.classList.add('visible');
          }, index * delay);
      });
  }

  // é¡µé¢åŠ è½½åæ‰§è¡Œ
  window.addEventListener('load', function() {
      // åˆ›å»ºé›ªèŠ±
      createSnowflakes();

      // æ˜¾ç¤ºä¸»ç¥ç¦è¯­ï¼ˆé€å¥æ˜¾ç¤ºï¼‰
      showBlessingsSequentially(blessings, 'greetingText', 800);

      // å»¶è¿Ÿæ˜¾ç¤ºå¼¹çª—
      setTimeout(() => {
          const modal = document.getElementById('christmasModal');
          modal.classList.add('active');

          // æ˜¾ç¤ºå¼¹çª—ç¥ç¦è¯­
          setTimeout(() => {
              showBlessingsSequentially(modalBlessings, 'modalBlessings', 600);
          }, 500);

          // å°è¯•æ’­æ”¾éŸ³ä¹
          playMusic();

          // æ˜¾ç¤ºéŸ³ä¹æ’­æ”¾å™¨
          setTimeout(() => {
              const musicPlayer = document.getElementById('musicPlayer');
              musicPlayer.classList.add('active');
          }, 1000);
      }, 3000);
  });

  // å¼¹çª—æ§åˆ¶
  const modal = document.getElementById('christmasModal');
  const closeModal = document.getElementById('closeModal');
  const shareBlessing = document.getElementById('shareBlessing');
  const musicControl = document.getElementById('musicControl');
  const musicPlayer = document.getElementById('musicPlayer');
  const christmasMusic = document.getElementById('christmasMusic');
  const volumeSlider = document.getElementById('volumeSlider');
  const musicInfo = document.getElementById('musicInfo');

  let isPlaying = false;

  // æ’­æ”¾éŸ³ä¹å‡½æ•°
  function playMusic() {
      // è®¾ç½®éŸ³é‡
      christmasMusic.volume = volumeSlider.value / 100;

      // å°è¯•æ’­æ”¾
      const playPromise = christmasMusic.play();

      if (playPromise !== undefined) {
          playPromise.then(() => {
              isPlaying = true;
              musicControl.innerHTML = '<i class="fas fa-volume-up"></i>';
              musicInfo.textContent = 'æ­£åœ¨æ’­æ”¾: åœ£è¯éŸ³ä¹';
          }).catch(error => {
              console.log("è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢ï¼Œè¯·ç‚¹å‡»éŸ³ä¹æŒ‰é’®æ‰‹åŠ¨æ’­æ”¾");
              isPlaying = false;
              musicControl.innerHTML = '<i class="fas fa-volume-mute"></i>';
              musicInfo.textContent = "ç‚¹å‡»æ’­æ”¾æŒ‰é’®å¼€å§‹éŸ³ä¹";
          });
      }
  }

  // å…³é—­å¼¹çª—
  closeModal.addEventListener('click', function() {
      modal.classList.remove('active');
  });

  // ç‚¹å‡»åˆ†äº«ç¥ç¦æŒ‰é’®
  shareBlessing.addEventListener('click', function() {
      // åˆ›å»ºåˆ†äº«æ•ˆæœ
      const btn = shareBlessing;
      const originalText = btn.innerHTML;
      btn.innerHTML = '<i class="fas fa-check"></i> ç¥ç¦å·²åˆ†äº«ï¼';
      btn.style.background = 'linear-gradient(to right, #06d6a0, #4ecdc4)';

      // æ˜¾ç¤ºåˆ†äº«æˆåŠŸæ¶ˆæ¯
      setTimeout(() => {
          alert("ç¥ç¦å·²åˆ†äº«åˆ°æœ‹å‹åœˆï¼æ„¿ä½ çš„åœ£è¯å……æ»¡æ¬¢ä¹ä¸å¹³å®‰ï¼ğŸ„ğŸ");
          modal.classList.remove('active');

          // æ¢å¤æŒ‰é’®çŠ¶æ€
          setTimeout(() => {
              btn.innerHTML = originalText;
              btn.style.background = 'linear-gradient(to right, #ff9a00, #ffd700, #ff9a00)';
          }, 500);
      }, 800);
  });

  // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
  modal.addEventListener('click', function(e) {
      if (e.target === modal) {
          modal.classList.remove('active');
      }
  });

  // éŸ³ä¹æ§åˆ¶
  musicControl.addEventListener('click', function() {
      if (isPlaying) {
          christmasMusic.pause();
          musicControl.innerHTML = '<i class="fas fa-volume-mute"></i>';
          musicInfo.textContent = "éŸ³ä¹å·²æš‚åœ";
          isPlaying = false;
      } else {
          playMusic();
      }

      // æ˜¾ç¤º/éšè—éŸ³ä¹æ’­æ”¾å™¨
      musicPlayer.classList.add('active');
  });

  // é¼ æ ‡æ‚¬åœæ˜¾ç¤ºéŸ³ä¹æ’­æ”¾å™¨
  musicControl.addEventListener('mouseenter', function() {
      musicPlayer.classList.add('active');
  });

  // éŸ³é‡æ§åˆ¶
  volumeSlider.addEventListener('input', function() {
      christmasMusic.volume = this.value / 100;

      // æ›´æ–°éŸ³é‡å›¾æ ‡
      if (this.value == 0) {
          musicControl.innerHTML = '<i class="fas fa-volume-mute"></i>';
      } else if (this.value < 50) {
          musicControl.innerHTML = '<i class="fas fa-volume-down"></i>';
      } else {
          musicControl.innerHTML = '<i class="fas fa-volume-up"></i>';
      }
  });

  // é”®ç›˜äº‹ä»¶ï¼šæŒ‰ESCå…³é—­å¼¹çª—
  document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
          modal.classList.remove('active');
      }

      // ç©ºæ ¼é”®æ§åˆ¶éŸ³ä¹æ’­æ”¾/æš‚åœ
      if (e.code === 'Space') {
          e.preventDefault();
          musicControl.click();
      }
  });

  // æ·»åŠ è£…é¥°å…ƒç´ åŠ¨ç”»
  function addDecorations() {
      const decorations = ['ğŸ„', 'ğŸ…', 'ğŸ', 'ğŸ””', 'â­', 'ğŸ¦Œ', 'â„ï¸', 'ğŸ•¯ï¸', 'ğŸ§¦', 'ğŸª'];

      // åœ¨é¡µé¢ä¸­æ·»åŠ ä¸€äº›éšæœºçš„è£…é¥°å…ƒç´ 
      for (let i = 0; i < 12; i++) {
          const decoration = document.createElement('div');
          decoration.textContent = decorations[Math.floor(Math.random() * decorations.length)];
          decoration.style.position = 'fixed';
          decoration.style.fontSize = `${Math.random() * 30 + 20}px`;
          decoration.style.left = `${Math.random() * 100}vw`;
          decoration.style.top = `${Math.random() * 100}vh`;
          decoration.style.opacity = '0.6';
          decoration.style.zIndex = '1';
          decoration.style.pointerEvents = 'none';
          decoration.style.animation = `float ${Math.random() * 8 + 6}s ease-in-out infinite`;
          decoration.style.animationDelay = `${Math.random() * 5}s`;
          decoration.style.filter = 'drop-shadow(0 5px 10px rgba(0,0,0,0.3))';
          document.body.appendChild(decoration);
      }
  }

  // æ·»åŠ è£…é¥°å…ƒç´ 
  window.addEventListener('load', addDecorations);
</script>
</body>
</html>
